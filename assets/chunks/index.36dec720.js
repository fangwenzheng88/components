import{i as se,a as ce,e as ue}from"./is.51048137.js";import"./dayjs.min.1edc150c.js";import{h as Y,x as fe,y as le,O as pe}from"./framework.09a0dcac.js";function J(t,e,r="children"){he(t,e,r,[])}function he(t,e,r="children",n=[]){const i=[];for(const o of t)i.push({node:o,parents:n});for(;i.length>0;){const{node:o,parents:a}=i.shift();e&&e(o,a);const s=o[r];if(Array.isArray(s))for(const d of s)i.push({node:d,parents:[o,...a]})}}const X=(t,e,r,{addPath:n}={})=>{if(!t||!e)return;e=e.replace(/\[(\w+)\]/g,".$1");const i=e.split(".");if(i.length===0)return;let o=t;for(let a=0;a<i.length;a++){if(!se(o)&&!ce(o)||!i[a])return;const s=i[a];a!==i.length-1?(n&&ue(o[s])&&(/^\d+$/.test(i[a+1])?o[s]=[]:o[s]={}),o=o[s]):o[s]=r}};var de=typeof global=="object"&&global&&global.Object===Object&&global;const Bt=de;var ge=typeof self=="object"&&self&&self.Object===Object&&self,be=Bt||ge||Function("return this")();const v=be;var ye=v.Symbol;const O=ye;var Wt=Object.prototype,ve=Wt.hasOwnProperty,$e=Wt.toString,I=O?O.toStringTag:void 0;function _e(t){var e=ve.call(t,I),r=t[I];try{t[I]=void 0;var n=!0}catch{}var i=$e.call(t);return n&&(e?t[I]=r:delete t[I]),i}var Te=Object.prototype,je=Te.toString;function me(t){return je.call(t)}var we="[object Null]",Ae="[object Undefined]",ht=O?O.toStringTag:void 0;function B(t){return t==null?t===void 0?Ae:we:ht&&ht in Object(t)?_e(t):me(t)}function W(t){return t!=null&&typeof t=="object"}var Oe=Array.isArray;const nt=Oe;function D(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Se="[object AsyncFunction]",xe="[object Function]",Ce="[object GeneratorFunction]",Pe="[object Proxy]";function Dt(t){if(!D(t))return!1;var e=B(t);return e==xe||e==Ce||e==Se||e==Pe}var Ie=v["__core-js_shared__"];const Z=Ie;var dt=function(){var t=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ee(t){return!!dt&&dt in t}var Fe=Function.prototype,Me=Fe.toString;function w(t){if(t!=null){try{return Me.call(t)}catch{}try{return t+""}catch{}}return""}var Be=/[\\^$.*+?()[\]{}|]/g,We=/^\[object .+?Constructor\]$/,De=Function.prototype,Ne=Object.prototype,Ue=De.toString,Le=Ne.hasOwnProperty,Ge=RegExp("^"+Ue.call(Le).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Re(t){if(!D(t)||Ee(t))return!1;var e=Dt(t)?Ge:We;return e.test(w(t))}function ze(t,e){return t==null?void 0:t[e]}function A(t,e){var r=ze(t,e);return Re(r)?r:void 0}var Ke=A(v,"WeakMap");const k=Ke;var gt=Object.create,Ve=function(){function t(){}return function(e){if(!D(e))return{};if(gt)return gt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const He=Ve;function qe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Ye=function(){try{var t=A(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bt=Ye;function Je(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Xe=9007199254740991,Ze=/^(?:0|[1-9]\d*)$/;function Qe(t,e){var r=typeof t;return e=e??Xe,!!e&&(r=="number"||r!="symbol"&&Ze.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t,e,r){e=="__proto__"&&bt?bt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ut(t,e){return t===e||t!==t&&e!==e}var ke=Object.prototype,tr=ke.hasOwnProperty;function Lt(t,e,r){var n=t[e];(!(tr.call(t,e)&&Ut(n,r))||r===void 0&&!(e in t))&&Nt(t,e,r)}function z(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],d=n?n(r[s],t[s],s,r,t):void 0;d===void 0&&(d=t[s]),i?Nt(r,s,d):Lt(r,s,d)}return r}var er=9007199254740991;function Gt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=er}function Rt(t){return t!=null&&Gt(t.length)&&!Dt(t)}var rr=Object.prototype;function ot(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rr;return t===r}function nr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var or="[object Arguments]";function yt(t){return W(t)&&B(t)==or}var zt=Object.prototype,ar=zt.hasOwnProperty,ir=zt.propertyIsEnumerable,sr=yt(function(){return arguments}())?yt:function(t){return W(t)&&ar.call(t,"callee")&&!ir.call(t,"callee")};const cr=sr;function ur(){return!1}var Kt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vt=Kt&&typeof module=="object"&&module&&!module.nodeType&&module,fr=vt&&vt.exports===Kt,$t=fr?v.Buffer:void 0,lr=$t?$t.isBuffer:void 0,pr=lr||ur;const Vt=pr;var hr="[object Arguments]",dr="[object Array]",gr="[object Boolean]",br="[object Date]",yr="[object Error]",vr="[object Function]",$r="[object Map]",_r="[object Number]",Tr="[object Object]",jr="[object RegExp]",mr="[object Set]",wr="[object String]",Ar="[object WeakMap]",Or="[object ArrayBuffer]",Sr="[object DataView]",xr="[object Float32Array]",Cr="[object Float64Array]",Pr="[object Int8Array]",Ir="[object Int16Array]",Er="[object Int32Array]",Fr="[object Uint8Array]",Mr="[object Uint8ClampedArray]",Br="[object Uint16Array]",Wr="[object Uint32Array]",f={};f[xr]=f[Cr]=f[Pr]=f[Ir]=f[Er]=f[Fr]=f[Mr]=f[Br]=f[Wr]=!0;f[hr]=f[dr]=f[Or]=f[gr]=f[Sr]=f[br]=f[yr]=f[vr]=f[$r]=f[_r]=f[Tr]=f[jr]=f[mr]=f[wr]=f[Ar]=!1;function Dr(t){return W(t)&&Gt(t.length)&&!!f[B(t)]}function at(t){return function(e){return t(e)}}var Ht=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=Ht&&typeof module=="object"&&module&&!module.nodeType&&module,Nr=E&&E.exports===Ht,Q=Nr&&Bt.process,Ur=function(){try{var t=E&&E.require&&E.require("util").types;return t||Q&&Q.binding&&Q.binding("util")}catch{}}();const S=Ur;var _t=S&&S.isTypedArray,Lr=_t?at(_t):Dr;const Gr=Lr;var Rr=Object.prototype,zr=Rr.hasOwnProperty;function qt(t,e){var r=nt(t),n=!r&&cr(t),i=!r&&!n&&Vt(t),o=!r&&!n&&!i&&Gr(t),a=r||n||i||o,s=a?nr(t.length,String):[],d=s.length;for(var g in t)(e||zr.call(t,g))&&!(a&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Qe(g,d)))&&s.push(g);return s}function Yt(t,e){return function(r){return t(e(r))}}var Kr=Yt(Object.keys,Object);const Vr=Kr;var Hr=Object.prototype,qr=Hr.hasOwnProperty;function Yr(t){if(!ot(t))return Vr(t);var e=[];for(var r in Object(t))qr.call(t,r)&&r!="constructor"&&e.push(r);return e}function it(t){return Rt(t)?qt(t):Yr(t)}function Jr(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Xr=Object.prototype,Zr=Xr.hasOwnProperty;function Qr(t){if(!D(t))return Jr(t);var e=ot(t),r=[];for(var n in t)n=="constructor"&&(e||!Zr.call(t,n))||r.push(n);return r}function st(t){return Rt(t)?qt(t,!0):Qr(t)}var kr=A(Object,"create");const F=kr;function tn(){this.__data__=F?F(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rn="__lodash_hash_undefined__",nn=Object.prototype,on=nn.hasOwnProperty;function an(t){var e=this.__data__;if(F){var r=e[t];return r===rn?void 0:r}return on.call(e,t)?e[t]:void 0}var sn=Object.prototype,cn=sn.hasOwnProperty;function un(t){var e=this.__data__;return F?e[t]!==void 0:cn.call(e,t)}var fn="__lodash_hash_undefined__";function ln(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=F&&e===void 0?fn:e,this}function m(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}m.prototype.clear=tn;m.prototype.delete=en;m.prototype.get=an;m.prototype.has=un;m.prototype.set=ln;function pn(){this.__data__=[],this.size=0}function K(t,e){for(var r=t.length;r--;)if(Ut(t[r][0],e))return r;return-1}var hn=Array.prototype,dn=hn.splice;function gn(t){var e=this.__data__,r=K(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():dn.call(e,r,1),--this.size,!0}function bn(t){var e=this.__data__,r=K(e,t);return r<0?void 0:e[r][1]}function yn(t){return K(this.__data__,t)>-1}function vn(t,e){var r=this.__data__,n=K(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function _(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_.prototype.clear=pn;_.prototype.delete=gn;_.prototype.get=bn;_.prototype.has=yn;_.prototype.set=vn;var $n=A(v,"Map");const M=$n;function _n(){this.size=0,this.__data__={hash:new m,map:new(M||_),string:new m}}function Tn(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function V(t,e){var r=t.__data__;return Tn(e)?r[typeof e=="string"?"string":"hash"]:r.map}function jn(t){var e=V(this,t).delete(t);return this.size-=e?1:0,e}function mn(t){return V(this,t).get(t)}function wn(t){return V(this,t).has(t)}function An(t,e){var r=V(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function x(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}x.prototype.clear=_n;x.prototype.delete=jn;x.prototype.get=mn;x.prototype.has=wn;x.prototype.set=An;function Jt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var On=Yt(Object.getPrototypeOf,Object);const Xt=On;function Sn(){this.__data__=new _,this.size=0}function xn(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Cn(t){return this.__data__.get(t)}function Pn(t){return this.__data__.has(t)}var In=200;function En(t,e){var r=this.__data__;if(r instanceof _){var n=r.__data__;if(!M||n.length<In-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new x(n)}return r.set(t,e),this.size=r.size,this}function C(t){var e=this.__data__=new _(t);this.size=e.size}C.prototype.clear=Sn;C.prototype.delete=xn;C.prototype.get=Cn;C.prototype.has=Pn;C.prototype.set=En;function Fn(t,e){return t&&z(e,it(e),t)}function Mn(t,e){return t&&z(e,st(e),t)}var Zt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tt=Zt&&typeof module=="object"&&module&&!module.nodeType&&module,Bn=Tt&&Tt.exports===Zt,jt=Bn?v.Buffer:void 0,mt=jt?jt.allocUnsafe:void 0;function Wn(t,e){if(e)return t.slice();var r=t.length,n=mt?mt(r):new t.constructor(r);return t.copy(n),n}function Dn(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function Qt(){return[]}var Nn=Object.prototype,Un=Nn.propertyIsEnumerable,wt=Object.getOwnPropertySymbols,Ln=wt?function(t){return t==null?[]:(t=Object(t),Dn(wt(t),function(e){return Un.call(t,e)}))}:Qt;const ct=Ln;function Gn(t,e){return z(t,ct(t),e)}var Rn=Object.getOwnPropertySymbols,zn=Rn?function(t){for(var e=[];t;)Jt(e,ct(t)),t=Xt(t);return e}:Qt;const kt=zn;function Kn(t,e){return z(t,kt(t),e)}function te(t,e,r){var n=e(t);return nt(t)?n:Jt(n,r(t))}function Vn(t){return te(t,it,ct)}function Hn(t){return te(t,st,kt)}var qn=A(v,"DataView");const tt=qn;var Yn=A(v,"Promise");const et=Yn;var Jn=A(v,"Set");const rt=Jn;var At="[object Map]",Xn="[object Object]",Ot="[object Promise]",St="[object Set]",xt="[object WeakMap]",Ct="[object DataView]",Zn=w(tt),Qn=w(M),kn=w(et),to=w(rt),eo=w(k),j=B;(tt&&j(new tt(new ArrayBuffer(1)))!=Ct||M&&j(new M)!=At||et&&j(et.resolve())!=Ot||rt&&j(new rt)!=St||k&&j(new k)!=xt)&&(j=function(t){var e=B(t),r=e==Xn?t.constructor:void 0,n=r?w(r):"";if(n)switch(n){case Zn:return Ct;case Qn:return At;case kn:return Ot;case to:return St;case eo:return xt}return e});const ut=j;var ro=Object.prototype,no=ro.hasOwnProperty;function oo(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&no.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ao=v.Uint8Array;const Pt=ao;function ft(t){var e=new t.constructor(t.byteLength);return new Pt(e).set(new Pt(t)),e}function io(t,e){var r=e?ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var so=/\w*$/;function co(t){var e=new t.constructor(t.source,so.exec(t));return e.lastIndex=t.lastIndex,e}var It=O?O.prototype:void 0,Et=It?It.valueOf:void 0;function uo(t){return Et?Object(Et.call(t)):{}}function fo(t,e){var r=e?ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var lo="[object Boolean]",po="[object Date]",ho="[object Map]",go="[object Number]",bo="[object RegExp]",yo="[object Set]",vo="[object String]",$o="[object Symbol]",_o="[object ArrayBuffer]",To="[object DataView]",jo="[object Float32Array]",mo="[object Float64Array]",wo="[object Int8Array]",Ao="[object Int16Array]",Oo="[object Int32Array]",So="[object Uint8Array]",xo="[object Uint8ClampedArray]",Co="[object Uint16Array]",Po="[object Uint32Array]";function Io(t,e,r){var n=t.constructor;switch(e){case _o:return ft(t);case lo:case po:return new n(+t);case To:return io(t,r);case jo:case mo:case wo:case Ao:case Oo:case So:case xo:case Co:case Po:return fo(t,r);case ho:return new n;case go:case vo:return new n(t);case bo:return co(t);case yo:return new n;case $o:return uo(t)}}function Eo(t){return typeof t.constructor=="function"&&!ot(t)?He(Xt(t)):{}}var Fo="[object Map]";function Mo(t){return W(t)&&ut(t)==Fo}var Ft=S&&S.isMap,Bo=Ft?at(Ft):Mo;const Wo=Bo;var Do="[object Set]";function No(t){return W(t)&&ut(t)==Do}var Mt=S&&S.isSet,Uo=Mt?at(Mt):No;const Lo=Uo;var Go=1,Ro=2,zo=4,ee="[object Arguments]",Ko="[object Array]",Vo="[object Boolean]",Ho="[object Date]",qo="[object Error]",re="[object Function]",Yo="[object GeneratorFunction]",Jo="[object Map]",Xo="[object Number]",ne="[object Object]",Zo="[object RegExp]",Qo="[object Set]",ko="[object String]",ta="[object Symbol]",ea="[object WeakMap]",ra="[object ArrayBuffer]",na="[object DataView]",oa="[object Float32Array]",aa="[object Float64Array]",ia="[object Int8Array]",sa="[object Int16Array]",ca="[object Int32Array]",ua="[object Uint8Array]",fa="[object Uint8ClampedArray]",la="[object Uint16Array]",pa="[object Uint32Array]",u={};u[ee]=u[Ko]=u[ra]=u[na]=u[Vo]=u[Ho]=u[oa]=u[aa]=u[ia]=u[sa]=u[ca]=u[Jo]=u[Xo]=u[ne]=u[Zo]=u[Qo]=u[ko]=u[ta]=u[ua]=u[fa]=u[la]=u[pa]=!0;u[qo]=u[re]=u[ea]=!1;function R(t,e,r,n,i,o){var a,s=e&Go,d=e&Ro,g=e&zo;if(r&&(a=i?r(t,n,i,o):r(t)),a!==void 0)return a;if(!D(t))return t;var N=nt(t);if(N){if(a=oo(t),!s)return qe(t,a)}else{var T=ut(t),U=T==re||T==Yo;if(Vt(t))return Wn(t,s);if(T==ne||T==ee||U&&!i){if(a=d||U?{}:Eo(t),!s)return d?Kn(t,Mn(a,t)):Gn(t,Fn(a,t))}else{if(!u[T])return i?t:{};a=Io(t,T,s)}}o||(o=new C);var L=o.get(t);if(L)return L;o.set(t,a),Lo(t)?t.forEach(function(y){a.add(R(y,e,r,y,t,o))}):Wo(t)&&t.forEach(function(y,c){a.set(c,R(y,e,r,c,t,o))});var H=g?d?Hn:Vn:d?st:it,G=N?void 0:H(t);return Je(G||t,function(y,c){G&&(c=y,y=t[c]),Lt(a,c,R(y,e,r,c,t,o))}),a}var ha=1,da=4;function ga(t){return R(t,ha|da)}function oe(t){const e=[];for(const r of t)if(r.visible!==!1){const{children:n}=r;if(Array.isArray(n)&&n.length>0){const i=oe(n);i.length>0&&e.push({...r,children:i})}else e.push({...r,_originWidth:r.width})}return e}function $a(t){const e=ga(t),r=Y(t),n=Y(null);let i=0;const o=new ResizeObserver(c=>{const l=c[0];l.contentRect.width!==i&&(i=l.contentRect.width,g())});fe(n,()=>{o.disconnect(),n.value&&o.observe(n.value.$el)});const a=Y([]);le(()=>{a.value=oe(r.value),pe(()=>{g()})});const s=c=>{const l=[];return c.forEach(p=>{p.children&&p.children.length>0?l.push(...s(p.children)):l.push(p)}),l};function d(){return s(a.value)}function g(){if(!n.value)return;const c=n.value.bordered?2:0,l=n.value.$el.clientWidth-c;let p=0;const b=d(),$=b.filter(h=>typeof h._originWidth!="number");if($.length>0)if(b.forEach(h=>{p+=Number(h._originWidth||h.minWidth||80)}),p<=l){const h=l-p;if($.length===1)$[0].width=Number($[0].minWidth||80)+h;else{const ae=$.reduce((P,q)=>P+Number(q.minWidth||80),0),ie=h/ae;let lt=0;$.forEach((P,q)=>{if(q===0)return;const pt=Math.floor(Number(P.minWidth||80)*ie);lt+=pt,P.width=Number(P.minWidth||80)+pt}),$[0].width=Number($[0].minWidth||80)+h-lt}}else $.forEach(h=>{h.width=Number(h.minWidth)});else b.forEach(h=>{!h._originWidth&&!h.minWidth?h.width=80:h.width=Number(h._originWidth||h.minWidth)})}function N(){r.value=e}function T(c,l){X(r.value,c,l)}function U(c,l){J(r.value,p=>{p.dataIndex===c&&Object.keys(p).forEach(b=>{Object.prototype.hasOwnProperty.call(l,b)?p[b]=l[b]:delete p[b]})})}function L(c,l,p){X(r.value,`${c}.${String(l)}`,p)}function H(c,l,p){J(r.value,b=>{b.dataIndex===c&&(b[l]=p)})}function G(c,l){X(r.value,`${c}.visible`,l)}function y(c,l){J(r.value,p=>{p.dataIndex===c&&(p.visible=l)})}return{ref(c){n.value=c},tableInstance:n,originColumns:r,columns:a,resetColumns:N,changeColumnVisibleByPath:G,changeColumnVisibleByDataIndex:y,updateColumnByPath:L,updateColumnByDataIndex:H,replaceColumnByPath:T,replaceColumnByDataIndex:U}}export{$a as u};
