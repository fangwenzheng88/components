import{i as p}from"./dayjs.min.c0ea899f.js";import{u as d}from"./index.3c80fdf3.js";import{h as o,a4 as C}from"./framework.f34eef09.js";const m=()=>({current:1,pageSize:10,total:0,showTotal:!0,showPageSize:!0});function y(a){const l=o(!1),u=o([]),e=d(a.columns),t=o(!1);let s,i;(a.pagination===!0||p(a.pagination))&&(t.value=a.pagination===!0?m():{...m(),...a.pagination},s=n=>{t.value.current=n},i=n=>{t.value.current=1,t.value.pageSize=n});function r(){return l.value=!0,a.fetch({columnKeys:[...e.columnKeys.value]}).then(n=>{u.value=n,a.pagination!==!1&&(t.value.total=n.length)}).finally(()=>{l.value=!1})}return a.immediate===!0&&r(),{tableData:u,loading:l,loadTableData:r,pagination:t,tableInstance:e.tableInstance,originColumns:e.originColumns,columns:e.columns,columnKeys:e.columnKeys,resetColumns:e.resetColumns,changeColumnVisibleByDataIndex:e.changeColumnVisibleByDataIndex,updateColumnByDataIndex:e.updateColumnByDataIndex,replaceColumnByDataIndex:e.replaceColumnByDataIndex,tableConfig:C({loading:l,data:u,columns:e.columns,ref:e.ref,pagination:t,onPageChange:s,onPageSizeChange:i,onColumnResize(n,c){e.updateColumnByDataIndex(n,"width",c),e.updateColumnsWidth()}})}}export{y as u};
