import{i as c}from"./is.51048137.js";import"./dayjs.min.1edc150c.js";import{u as p}from"./index.4219e003.js";import{h as o,a5 as C}from"./framework.b77cafc3.js";const m=()=>({current:1,pageSize:10,total:0,showTotal:!0,showPageSize:!0});function f(e){const l=o(!1),u=o(),a=p(e.columns),t=o(!1);let i,s;(e.pagination===!0||c(e.pagination))&&(t.value=e.pagination===!0?m():{...m(),...e.pagination},i=n=>{t.value.current=n},s=n=>{t.value.current=1,t.value.pageSize=n});function r(){return l.value=!0,e.fetch().then(n=>{u.value=n,e.pagination!==!1&&(t.value.total=n.length)}).finally(()=>{l.value=!1})}return e.immediate===!0&&r(),{tableData:u,loading:l,loadTableData:r,pagination:t,tableInstance:a.tableInstance,originColumns:a.originColumns,columns:a.columns,resetColumns:a.resetColumns,changeColumnVisibleByPath:a.changeColumnVisibleByPath,changeColumnVisibleByDataIndex:a.changeColumnVisibleByDataIndex,updateColumnByPath:a.updateColumnByPath,updateColumnByDataIndex:a.updateColumnByDataIndex,replaceColumnByPath:a.replaceColumnByPath,replaceColumnByDataIndex:a.replaceColumnByDataIndex,tableConfig:C({loading:l,data:u,columns:a.columns,ref:a.ref,pagination:t,onPageChange:i,onPageSizeChange:s})}}export{f as u};
